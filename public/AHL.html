<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Atlas Historique de Limoges</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <script src="https://unpkg.com/maplibre-gl@4.7.0/dist/maplibre-gl.js"></script>
    <link href="https://unpkg.com/maplibre-gl@4.7.0/dist/maplibre-gl.css" rel="stylesheet">

    <link rel="stylesheet" crossorigin href="/css/style.css">
    <!-- Ancien sidebar. Probablement je ne l'utiliserai plus-->
    <!-- <link rel="stylesheet" crossorigin href="/css/sidebar.css">  -->

    <script src="https://unpkg.com/three@0.147.0/build/three.min.js"></script>
    <script src="https://unpkg.com/three@0.147.0/examples/js/loaders/GLTFLoader.js"></script>

    <link rel="icon" type="image/png" href="/ressources/icones/favicon.ico">
</head>

<body>

    <div id="comparison-container" style="display: none;">
        <div id="after" class="map"></div>
    </div>

    <div id="volet" class="plie"></div>

    <div id="map">

    </div>

    <!-- <div id="right" class="sidebar flex-center right collapsed">
        <div class="sidebar-content rounded-rect" id="sidebar-contenu">

            <div class="sidebar-notice">
                <span id="imageNotice"></span>
            </div>
            <div class="sidebar-description">
                <h1>Ajouter une nouvelle image</h1>
                <form id="uploadForm" enctype="multipart/form-data" accept="image/png, image/jpeg, image/gif"
                    required>
                    <label for="imageUpload">Choisissez une image :</label>
                    <input type="file" id="imageUpload" name="image" accept="image/*" required>
                    <br>
                    <label for="lieu">Lieu :</label>
                    <input type="text" id="lieu" name="lieu" required>
                    <br>
                    <label for="date_inf">Date inférieure :</label>
                    <input type="date" id="date_inf" name="date_inf" required>
                    <br>
                    <label for="date_sup">Date supérieure :</label>
                    <input type="date" id="date_sup" name="date_sup" required>
                    <br>
                    <input type="submit" value="Télécharger">
                </form>
                <form id="infoForm">
                    <label for="comment">Commentaire :</label>
                    <input type="text" id="comment" name="comment" required>
                    <br>
                    <label for="date">Date :</label>
                    <input type="date" id="date" name="date" required>
                    <br>
                    <label for="lieu">Lieu :</label>
                    <input type="text" id="lieu" name="lieu" required>
                    <br>
                    <label for="coordinates">Coordonnées (longitude,latitude) :</label>
                    <input type="text" id="coordinates" name="coordinates" placeholder="102.0,0.5" required>
                    <br>
                    <input type="button" value="Générer GeoJSON" onclick="generateGeoJSON()">
            </div>

            <div class="sidebar-toggle rounded-rect right flex-center" onclick="toggleSidebar('right')">
                &larr;
            </div>
        </div>
    </div> -->

    <!-- <div id="paneau-photo">
        <div class="caja1">
            <strong>Lieu</strong>&nbsp;
            <span id="lieu"></span>
        </div>
        <img id="chemin" class="sidebar-img"></img>
    </div> -->

    <div class="map-overlay top">
        <div class="map-overlay-inner">

            <!-- Ajouter un bouton pour plus d'info? -->
            <!-- Ajouter un bouton sur carte suporposée qui déplie les paramètres -->
            </fieldset>
            <fieldset>
                <legend>
                    <input type="checkbox">Carte superposée :</input>
                </legend>
                <select name="carte" id="carte-select-2" autocomplete="off">
                    <option value="" selected="selected" disabled hidden>--Choisissez une carte--</option>
                    <option value="c1843">Carte de l'état-major (ca 1843)</option>
                    <option value="c1950">Orthophotos de 1950-1965</option>
                    <option value="c2023">Orthophotos de 2023</option>
                </select>

                <label>Opacité : <span id="slider-value-1">100%</span></label>
                <input id="slider1" type="range" min="0" max="100" step="0" value="100" autocomplete='off'>
            </fieldset>
            <fieldset>
                <legend>Carte principale :</legend>
                <select name="carte" id="carte-select-1" autocomplete="off">
                    <optgroup label="--Choisissez une carte--"></optgroup>
                    <option value="c1843">Carte de l'état-major (ca 1843)</option>
                    <option value="c1950">Orthophotos de 1950-1965</option>
                    <option value="c2023">Orthophotos de 2023</option>
                </select>

                <label>Opacité : <span id="slider-value-2">100%</span></label>
                <input id="slider2" type="range" min="0" max="100" step="0" value="100" autocomplete='off'>
            </fieldset>

            <!-- <div>
                <label for="3d">Bâtiments 3D</label>
                <input type="checkbox" id="3d" name="3d" checked />
            </div> -->
            <div id="layersControlDiv">
            </div>

            <button id="bouton-comparer" class="bouton" type="button">Activer la comparaison</button>

        </div>
    </div>

    <!-- Les paramètres de la carte, les sources et les couches. -->
    <script src="/scripts/carte.js"></script>

    <!-- Le checkbox qui contrôle l'affichage des bâtiments 3D et des images. -->
    <script src="/scripts/checkbox.js"></script>

    <!-- Ancien sidebar. EFFACER ? -->
    <!-- <script src="/scripts/sidebar.js"></script> -->

    <!-- Change la couleur des points des photographies et affiche les emprises des photographies quand on passe la souris.-->
    <script src="/scripts/images_hover.js"></script>

    <!-- Un test d'affichage des photographies dans le sidebar. -->
    <!-- <script src="/scripts/images.js"></script> -->

    <!-- Pour voler aux coordonnées des photographies. -->
    <script src="/scripts/images_click.js"></script>

    <!-- NE PAS UTILISER. Outil pour ouvrir les popups des images et afficher les emprises des photographies. -->
    <!-- <script src="/scripts/popup.js"></script> -->

    <!-- Pour ajouter les modèles 3d -->
    <script src="/scripts/3d.js"></script>

    <!-- Plugin Compare -->
    <script src="../scripts/plugins/maplibre-gl-compare-main/dist/maplibre-gl-compare.js"></script>
    <link rel="stylesheet" href="../scripts/plugins/maplibre-gl-compare-main/dist/maplibre-gl-compare.css"
        type="text/css" />

    <!-- Slider pour comparer des cartes sur "map" -->
    <script src="/scripts/compare.js"></script>

    <!-- Gére la modification des informations des photographies -->
    <!-- <script src="/scripts/formulaire.js"></script> -->

    <!-- Gére la modification des informations des photographies -->
    <script src="/scripts/formulaire-nouveau.js"></script>

    <!-- Gére la modification des informations des photographies -->
    <script src="/scripts/volet.js"></script>

    <!-- Ouvre les images quand on active le bouton images -->
    <script src="/scripts/volet_images.js"></script>

</body>

</html>